<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Migration Accelerator - Architecture Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        header {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }
        header h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        header p {
            color: #666;
            font-size: 1.1em;
        }
        .diagram-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .diagram-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .mermaid {
            display: flex;
            justify-content: center;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
        }
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .tech-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .tech-card h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid rgba(255,255,255,0.5);
            padding-bottom: 10px;
        }
        .tech-card ul {
            list-style: none;
        }
        .tech-card li {
            padding: 5px 0;
            margin-left: 10px;
        }
        .tech-card li:before {
            content: "âœ“ ";
            font-weight: bold;
            margin-right: 5px;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .feature-card {
            background: #f0f4ff;
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 8px;
        }
        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        .feature-card p {
            color: #666;
            line-height: 1.6;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }
        pre {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
        }
        .path-section {
            background: #f9f9f9;
            border-left: 4px solid #764ba2;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #333;
        }
        footer {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: #666;
            margin-top: 30px;
        }
        .status-badge {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin: 5px;
        }
        .badge-info {
            background: #17a2b8;
        }
        .badge-warning {
            background: #ffc107;
            color: black;
        }
    </style>
</head>
<body>
    <div class="container">

        <!-- System Architecture -->
        <div class="diagram-section">
            <h2>ğŸ“Š System Architecture</h2>
            <div class="mermaid">
                graph TB
                    subgraph Client["ğŸŒ Client Layer"]
                        React["React 18+ Frontend<br/>(TypeScript)"]
                        Browser["Web Browser"]
                    end
                    
                    subgraph Frontend["ğŸ“± Frontend Components"]
                        LandingPage["Landing Page"]
                        MigrationWizard["Migration Wizard"]
                        Dashboard["Dashboard"]
                        Reports["Reports"]
                    end
                    
                    subgraph API["ğŸ”Œ API Gateway"]
                        FastAPI["FastAPI Application"]
                        Router["Route Handler"]
                    end
                    
                    subgraph Services["ğŸ› ï¸ Core Services"]
                        MigrationSvc["Migration Service"]
                        GitHubSvc["GitHub Service"]
                        GitLabSvc["GitLab Service"]
                        AnalyzerSvc["Repository Analyzer"]
                        DepUpdater["Dependency Updater"]
                        EmailSvc["Email Service"]
                        SonarSvc["SonarQube Service"]
                    end
                    
                    subgraph Engine["âš™ï¸ Migration Engine"]
                        OpenRewrite["OpenRewrite<br/>(Recipe Framework)"]
                        Recipes["Transformation<br/>Recipes"]
                    end
                    
                    subgraph External["ğŸŒ External Services"]
                        GitHub["GitHub API"]
                        GitLab["GitLab API"]
                        Sonar["SonarQube"]
                        SMTP["SMTP Server"]
                    end
                    
                    subgraph Storage["ğŸ’¾ Storage"]
                        FileSystem["File System<br/>(/tmp/migrations)"]
                        Cache["Cache"]
                        Logs["Logs"]
                    end
                    
                    Browser -->|HTTP| React
                    React --> Frontend
                    Frontend -->|REST API| FastAPI
                    FastAPI --> Router
                    Router --> Services
                    Services --> Engine
                    MigrationSvc --> OpenRewrite
                    Recipes --> External
                    Services --> External
                    Services --> Storage
                    Engine --> Storage
                    
                    style Client fill:#667eea,stroke:#333,color:#fff
                    style Frontend fill:#764ba2,stroke:#333,color:#fff
                    style API fill:#6c63ff,stroke:#333,color:#fff
                    style Services fill:#5a67d8,stroke:#333,color:#fff
                    style Engine fill:#667eea,stroke:#333,color:#fff
                    style External fill:#f97316,stroke:#333,color:#fff
                    style Storage fill:#0891b2,stroke:#333,color:#fff
            </div>
        </div>

        <!-- Data Flow -->
        <div class="diagram-section">
            <h2>ğŸ”„ Data Flow - Migration Process</h2>
            <div class="mermaid">
                graph LR
                    Start["ğŸ‘¤ User Starts<br/>Migration"]
                    Input["ğŸ“ Provide<br/>Repository & Config"]
                    Submit["ğŸš€ Submit to<br/>Backend"]
                    Validate["âœ“ Validate<br/>Inputs"]
                    Analyze["ğŸ” Analyze<br/>Repository"]
                    Clone["ğŸ“¥ Clone<br/>Repository"]
                    Transform["âš¡ Apply<br/>Transformations"]
                    Quality["ğŸ“Š Run Quality<br/>Analysis"]
                    Generate["ğŸ“„ Generate<br/>Reports"]
                    Push["ğŸ“¤ Push<br/>Changes"]
                    Notify["ğŸ“§ Send<br/>Notification"]
                    Complete["âœ… Complete<br/>& Download"]
                    
                    Start --> Input
                    Input --> Submit
                    Submit --> Validate
                    Validate --> Analyze
                    Analyze --> Clone
                    Clone --> Transform
                    Transform --> Quality
                    Quality --> Generate
                    Generate --> Push
                    Push --> Notify
                    Notify --> Complete
                    
                    style Start fill:#667eea,stroke:#333,color:#fff
                    style Complete fill:#28a745,stroke:#333,color:#fff
                    style Transform fill:#f97316,stroke:#333,color:#fff
                    style Generate fill:#0891b2,stroke:#333,color:#fff
            </div>
        </div>

        <!-- Technology Stack -->
        <div class="diagram-section">
            <h2>ğŸ—ï¸ Technology Stack</h2>
            <div class="tech-stack">
                <div class="tech-card">
                    <h3>Frontend</h3>
                    <ul>
                        <li>React 18+</li>
                        <li>TypeScript</li>
                        <li>Vite</li>
                        <li>React Router</li>
                        <li>Axios</li>
                        <li>CSS Modules</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h3>Backend</h3>
                    <ul>
                        <li>FastAPI</li>
                        <li>Python 3.11</li>
                        <li>Pydantic</li>
                        <li>PyGithub</li>
                        <li>Uvicorn</li>
                        <li>SQLAlchemy</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h3>Migration</h3>
                    <ul>
                        <li>OpenRewrite</li>
                        <li>Java 17 JDK</li>
                        <li>Maven 3.8+</li>
                        <li>Gradle 8+</li>
                        <li>ASM Library</li>
                        <li>Git CLI</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h3>Deployment</h3>
                    <ul>
                        <li>Docker</li>
                        <li>Docker Compose</li>
                        <li>Railway</li>
                        <li>Render</li>
                        <li>Kubernetes</li>
                        <li>GitHub Actions</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h3>Integrations</h3>
                    <ul>
                        <li>GitHub API</li>
                        <li>GitLab API</li>
                        <li>SonarQube</li>
                        <li>SMTP Email</li>
                        <li>OAuth 2.0</li>
                        <li>JMeter</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h3>Tools & Quality</h3>
                    <ul>
                        <li>ESLint</li>
                        <li>Pytest</li>
                        <li>Coverage.py</li>
                        <li>Black</li>
                        <li>FOSSA</li>
                        <li>curl</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Key Features -->
        <div class="diagram-section">
            <h2>âœ¨ Key Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>ğŸ”„ Multi-Version Support</h4>
                    <p>Seamless migrations from Java 7 through Java 21, with step-by-step transformations.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“¦ Framework Migrations</h4>
                    <p>Spring Boot 2â†’3, Jakarta EE, JUnit 4â†’5, javaxâ†’jakarta, and more.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ¯ Smart Analysis</h4>
                    <p>Detects deprecated APIs, security issues, and performance problems automatically.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ”§ Automated Fixes</h4>
                    <p>18+ comprehensive business logic improvements with code quality enhancements.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸŒ Multi-Platform</h4>
                    <p>GitHub & GitLab support with automatic push, branch creation, and PR generation.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“Š Quality Reports</h4>
                    <p>Detailed HTML reports with change tracking, metrics, and JMeter test generation.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“§ Notifications</h4>
                    <p>Email alerts with migration summaries and detailed analysis results.</p>
                </div>
                <div class="feature-card">
                    <h4>â˜ï¸ Cloud Ready</h4>
                    <p>Deploy to Railway, Render, Kubernetes, or any Docker-compatible platform.</p>
                </div>
            </div>
        </div>

        <!-- Docker Container Info -->
        <div class="diagram-section">
            <h2>ğŸ³ Docker Container Details</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                <div>
                    <h3 style="color: #667eea; margin-bottom: 15px;">Image Information</h3>
                    <div class="path-section">
                        <strong>Image Name:</strong> java-migration-accelerator:latest<br><br>
                        <strong>Image ID:</strong> 670df7648a95<br><br>
                        <strong>Size:</strong> 1.59 GB<br><br>
                        <strong>Port:</strong> 8001<br><br>
                        <strong>Status:</strong> âœ… Built & Running<br><br>
                        <strong>Health:</strong> âœ… Healthy
                    </div>
                </div>
                <div>
                    <h3 style="color: #667eea; margin-bottom: 15px;">Storage Paths</h3>
                    <div class="path-section">
                        <strong>Primary Storage:</strong><br>
                        C:\ProgramData\Docker\docker\overlay2\<br><br>
                        <strong>Image Layers:</strong><br>
                        670df7648a95da1b3334cbff7e51d5f...<br><br>
                        <strong>Metadata:</strong><br>
                        C:\ProgramData\Docker\docker\image\overlay2\imagedb\<br><br>
                        <strong>Repositories Index:</strong><br>
                        repositories.json
                    </div>
                </div>
            </div>
        </div>

        <!-- File Structure -->
        <div class="diagram-section">
            <h2>ğŸ“ Project Structure</h2>
            <pre style="background: #f4f4f4; padding: 20px; border-radius: 8px; overflow-x: auto;">
java-migration-accelerator/
â”‚
â”œâ”€â”€ ğŸ“‚ src/                          (React Frontend Source)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ MigrationWizard.tsx
â”‚   â”‚   â”œâ”€â”€ DependencyAnalysis.tsx
â”‚   â”‚   â”œâ”€â”€ RepositoryAnalysisPanel.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ api.ts                   (API Client)
â”‚
â”œâ”€â”€ ğŸ“‚ java-migration-backend/       (FastAPI Backend)
â”‚   â””â”€â”€ Java_Migration_Accelerator_backend/
â”‚       â””â”€â”€ java-migration-backend/
â”‚           â”œâ”€â”€ main.py              (FastAPI App)
â”‚           â”œâ”€â”€ services/
â”‚           â”‚   â”œâ”€â”€ migration_service.py
â”‚           â”‚   â”œâ”€â”€ github_service.py
â”‚           â”‚   â”œâ”€â”€ gitlab_service.py
â”‚           â”‚   â”œâ”€â”€ email_service.py
â”‚           â”‚   â”œâ”€â”€ sonarqube_service.py
â”‚           â”‚   â”œâ”€â”€ repository_analyzer.py
â”‚           â”‚   â”œâ”€â”€ dependency_updater.py
â”‚           â”‚   â”œâ”€â”€ rate_limiter.py
â”‚           â”‚   â”œâ”€â”€ auth_service.py
â”‚           â”‚   â””â”€â”€ fossa_service.py
â”‚           â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ ğŸ“‚ public/                       (Static Assets)
â”œâ”€â”€ ğŸ“„ .env                          (Environment Variables)
â”œâ”€â”€ ğŸ“„ docker-compose.yml            (Container Orchestration)
â”œâ”€â”€ ğŸ“„ Dockerfile                    (Container Image)
â”œâ”€â”€ ğŸ“„ package.json                  (Frontend Dependencies)
â””â”€â”€ ğŸ“„ requirements.txt              (Backend Dependencies)

            </pre>
        </div>

        <!-- Quick Access -->
        <div class="diagram-section">
            <h2>ğŸš€ Quick Access</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
                <div class="feature-card">
                    <h4>ğŸŒ Application URLs</h4>
                    <p><strong>Frontend:</strong><br><code>http://localhost:8001</code></p>
                    <p><strong>API Docs:</strong><br><code>http://localhost:8001/docs</code></p>
                    <p><strong>Health Check:</strong><br><code>http://localhost:8001/health</code></p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“‚ Important Paths</h4>
                    <p><strong>Project Root:</strong><br><code>c:\Users\MSI\java-migration-accelerator</code></p>
                    <p><strong>.env File:</strong><br><code>.env</code></p>
                    <p><strong>Docker Image:</strong><br><code>C:\ProgramData\Docker\docker\overlay2\</code></p>
                </div>
                <div class="feature-card">
                    <h4>âŒ¨ï¸ Docker Commands</h4>
                    <p><strong>Start:</strong><br><code>docker-compose up -d</code></p>
                    <p><strong>Stop:</strong><br><code>docker-compose down</code></p>
                    <p><strong>View Logs:</strong><br><code>docker logs java-migration-accelerator -f</code></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
</body>
</html>
